<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link href="css/mui.min.css" rel="stylesheet" />
		<style>
			* {
				font-family: "黑体";
				padding: 0px;
			}
			li {
				list-style: none;
			}
			hr {
				border: 0px;
			}
			.float {
				float: left;
			}
			.userInfoBox {
				width: 100%;
				height: 180px;
				background: #FFFFFF;
			}
			#avatar {
				margin-top: 30px;
				margin-left: 6%;
				height: 75px;
				width: 75px;
				border-radius: 50%;
				float: left;
			}
			#userinfo {
				float: left;
			}
			#name {
				margin-top: 30px;
				margin-left: 25px;
				float: left;
			}
			#sex {
				width: 17px;
				height: auto;
				margin-top: 32px;
			}
			#edit {
				width: 80px;
				margin-top: 27px;
				margin-left: 170px;
				font-size: 13px;
				border: solid 1px;
				border-radius: 3px;
				background: #33CC66;
			}
			#editIcon {
				width: 20px;
				height: auto;
				float: left;
			}
			#location {
				margin-top: 10px;
				margin-left: 25px;
				font-size: 12px;
			}
			#introduce {
				height: 40px;
				width: 230px;
				margin-top: 4px;
				margin-left: 25px;
				font-size: 12px;
			}
			#introduce-value {
				width: 160px;
				word-wrap: break-word;
				display:block;
				float: left;
			}
			#hr {
				width: 100%;
				height: 15px;
				display: flex;
				border-bottom:1px solid #DDDDDD;
			}
			#baseData {
				width: 93%;
				height: 30px;
				margin-top: 5px;
				margin-left: 3.5%;
				display: inline-block;
			}
			.dataItem {
				width: 33.3%;
				height: 30px;
				/*border-right:1px solid #DDDDDD;
				border-left:1px solid #DDDDDD;*/
			}
			.dataItem:not(:last-child) {
				border-right: 1px #DDDDDD solid;
			}
			.dataItem img {
				margin-top: 4px;
				margin-left: 22px;
				width: 18px;
				height: auto;
				float: left;
			}
			.dataItem span {
				display: block;
				margin-top: 3.5px;
				margin-left: 2px;
				font-size: 16px;
				float: left;
			}
			#quit {
				width: 94%;
				height: 45px;
				margin-top: 10px;
				margin-left: 3%;
				border-radius: 5px;
				background: #D80000;
				line-height: 48px;
				text-align: center;
				color: #F8F8F8;
			}
			
			.mui-views,
			.mui-view,
			.mui-pages,
			.mui-page,
			.mui-page-content {
				position: absolute;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				width: 100%;
				height: 100%;
				background-color: #efeff4;
			}
			.mui-pages {
				top: 46px;
				height: auto;
			}
			.mui-page {
				display: none;
			}
			.mui-pages .mui-page {
				display: block;
			}
			.mui-page .mui-table-view:first-child {
				margin-top: 15px;
			}
			.mui-page .mui-table-view:last-child {
				margin-bottom: 30px;
			}
			.mui-page.mui-transitioning {
				-webkit-transition: -webkit-transform 300ms ease;
				transition: transform 300ms ease;
			}
		</style>
	</head>
	<body>
		<!-- 主页面结构 -->
		<div id="app" class="mui-views">
			<div class="mui-view">
				<div class="mui-navbar">
				</div>
				<div class="mui-pages">
				</div>
			</div>
		</div>
		
		<div id="mainPage">
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<h1 class="mui-center mui-title">个人中心</h1>
			</div>
			<div class="mui-content">
				<div class="userInfoBox">
					<img id="avatar" src="images/logo.png" />
					<div id="userinfo">
						<div class="float">
							<span id="name">神奇四侠&nbsp;</span>
							<img id="sex" src="images/icon/male.png"/>
						</div>
						<div id="edit">
							<img id="editIcon" src="images/icon/edit.png"/>
							<span>编辑资料</span>
						</div>
						<div id="location">
							<span>来自&nbsp;</span>
							<span id="location-value">四川·成都·四川师范大学</span>
						</div>
						<div id="introduce">
							<span class="float">个人简介：</span>
							<span id="introduce-value">这个人很懒，什么也没留下...限制25字</span>
						</div>
					</div>
					
					<div id="hr"></div>
					
					<div id="baseData">
						<li class="dataItem float"><img src="images/icon/publish.png"/><span>发布&nbsp;</span><span>8</span></li>
						<li class="dataItem float"><img src="images/icon/fabulous.png"/><span>获赞&nbsp;</span><span>8</span></li>
						<li class="dataItem float"><img src="images/icon/collection.png"/><span>收藏&nbsp;</span><span>8</span></li>
					</div>
				</div>
				<hr />
				<div id="operation">
					<ul class="mui-table-view mui-table-view-chevron">
						<li class="mui-table-view-cell">
							<a href="#notifications" class="mui-navigate-right">我的发布</a>
						</li>
						<li class="mui-table-view-cell">
							<a href="#privacy" class="mui-navigate-right">我的订单</a>
						</li>
						<li class="mui-table-view-cell">
							<a href="#general" class="mui-navigate-right">我喜欢的</a>
						</li>
						<li class="mui-table-view-cell">
							<a href="#general" class="mui-navigate-right">我的收藏</a>
						</li>
						<li class="mui-table-view-cell">
							<a href="#general" class="mui-navigate-right">我的好友</a>
						</li>
					</ul>
					
					<hr />
					<ul class="mui-table-view mui-table-view-chevron">
						<li class="mui-table-view-cell">
							<a href="#security " class="mui-navigate-right">安全中心</a>
						</li>
						<li class="mui-table-view-cell">
							<a href="#setting" class="mui-navigate-right">设置</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		
		<div id="security" class="mui-page">
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<button type="button" class="mui-left mui-action-back mui-btn  mui-btn-link mui-btn-nav mui-pull-left">
					<span class="mui-icon mui-icon-left-nav"></span>个人中心
				</button>
				<h1 class="mui-center mui-title">安全中心</h1>
			</div>
			<div class="mui-page-content">
				<div class="mui-scroll-wrapper">
					<div class="mui-scroll">
						<ul class="mui-table-view">
							<li class="mui-table-view-cell">
								修改密码
							</li>
						</ul>
						<ul class="mui-table-view">
							<li class="mui-table-view-cell">
								清除本地缓存
							</li>
						</ul>
						<ul class="mui-table-view">
							<li id="feedback" class="mui-table-view-cell">
								用户反馈
							</li>
						</ul>
						<ul class="mui-table-view">
							<li class="mui-table-view-cell">
								退出时关闭应用
								<div class="mui-switch mui-switch-mini">
									<div class="mui-switch-handle"></div>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		
		<div id="setting" class="mui-page">
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<button type="button" class="mui-left mui-action-back mui-btn  mui-btn-link mui-btn-nav mui-pull-left">
					<span class="mui-icon mui-icon-left-nav"></span>个人中心
				</button>
				<h1 class="mui-center mui-title">设置</h1>
			</div>
			<div class="mui-page-content">
				<div class="mui-scroll-wrapper">
					<div class="mui-scroll">
						<ul class="mui-table-view">
							<li class="mui-table-view-cell">
								黑名单
							</li>
						</ul>
						<ul class="mui-table-view">
							<li class="mui-table-view-cell">
								沉浸模式
								<div class="mui-switch mui-switch-mini">
									<div class="mui-switch-handle"></div>
								</div>
							</li>
						</ul>
						<ul class="mui-table-view">
							<li class="mui-table-view-cell">
								检查更新
							</li>
						</ul>
						<ul class="mui-table-view">
							<li class="mui-table-view-cell">
								关于<i class="mui-pull-right update">V1.0.0</i>
							</li>
						</ul>
						<div id="quit">退出登录</div>
					</div>
				</div>
			</div>
		</div>
		
		<script src="js/mui.min.js "></script>
		<script src="js/mui.view.js "></script>
		<script src='js/feedback.js'></script>
		<script>
			mui.init();
			var viewApi = mui('#app').view({
				defaultPage: '#mainPage'
			});
			var view = viewApi.view;
			(function($) {
				//处理view的后退与webview后退
				var oldBack = $.back;
				$.back = function() {
					if (viewApi.canBack()) { //如果view可以后退，则执行view的后退
						viewApi.back();
					} else { //执行webview后退
						oldBack();
					}
				};
	//			//监听页面切换事件方案1,通过view元素监听所有页面切换事件，目前提供pageBeforeShow|pageShow|pageBeforeBack|pageBack四种事件(before事件为动画开始前触发)
	//			//第一个参数为事件名称，第二个参数为事件回调，其中e.detail.page为当前页面的html对象
	//			view.addEventListener('pageBeforeShow', function(e) {
	//				console.log(e.detail.page.id + ' beforeShow');
	//			});
	//			view.addEventListener('pageShow', function(e) {
	//				console.log(e.detail.page.id + ' show');
	//			});
	//			view.addEventListener('pageBeforeBack', function(e) {
	//				console.log(e.detail.page.id + ' beforeBack');
	//			});
	//			view.addEventListener('pageBack', function(e) {
	//				console.log(e.detail.page.id + ' back');
	//			});
				var feedbackBox = document.getElementById("feedback");
				feedbackBox.addEventListener('tap', function() {
					$.openWindow({
						url: "feedback.html",
						id: "feedback"
					});
				});
				var edit = document.getElementById("edit");
				var id = localStorage.getItem("id");
				edit.addEventListener('tap', function() {
					$.openWindow({
						id: 'editUserInfo',
						url: 'editUserInfo.html',
						createNew:true
					});
				});
				var quit = document.getElementById("quit");
				quit.addEventListener('tap', function() {
					plus.nativeUI.actionSheet({
		                cancel: "取消",
		                buttons: [{
		                    title: "注销当前账号"
		                }, {
		                    title: "直接关闭应用"
		                }]
		            }, function(e) {
		                var index = e.index;
		                switch (index) { 
		                	case 0: break;
		                    case 1:
		                        localStorage.clear();
		                        plus.runtime.restart();
		                        break;
		                    case 2:
		                        plus.runtime.quit();
		                        break;
		                }
		            });
				});
			})(mui);
		</script>
	</body>
</html>
